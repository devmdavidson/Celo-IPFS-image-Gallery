{"version":3,"sources":["actions/imageActions.js","assets/images/decentralized-network.jpg","reducers/web3Reducer.js","reducers/imageReducer.js","reducers/index.js","store.js","components/layout/Navbar.js","components/layout/Main.js","actions/web3Actions.js","utils/string.js","components/images/ImageItem.js","components/images/Images.js","components/image/ImageDetail.js","components/notFound/NotFound.js","App.js","reportWebVitals.js","index.js","components/common/Spinner.js","components/common/spinner.gif","actions/types.js","utils/ipfs.js","components/image/UploadImage.js"],"names":["getImages","dispatch","getState","a","type","GET_IMAGES","web3State","web3","localData","localStorage","getItem","account","localImages","JSON","parse","imagesByIndex","keyBy","images","contractInstance","methods","getImageCount","call","count","imageCount","parseInt","index","getImage","imageResult","image","ipfsHash","title","description","tags","uploadedOn","convertTimestampToString","push","setItem","stringify","GET_IMAGES_SUCCESS","payload","console","log","SET_ERROR","uploadImage","buffer","history","UPLOAD_IMAGE","ipfs","files","add","error","result","hash","get","send","from","txReceipt","blockHash","blockNumber","transactionHash","transactionIndex","cumulativeGasUsed","gasUsed","newImage","UPLOAD_IMAGE_SUCCESS","GET_IMAGE","timestamp","tempDate","Number","Date","toString","initialState","loading","web3Reducer","state","action","WEB3_CONNECTED","WEB3_ACCOUNT_CHANGE","WEB3_ERROR","imageReducer","updatedImages","map","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","rootReducer","applyMiddleware","Navbar","className","to","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","cx","cy","r","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Layout","this","props","web3Connect","renderItems","Spinner","role","children","Component","withRouter","connect","celo","enable","Web3","kit","newKitFromWeb3","eth","getAccounts","accounts","defaultAccount","contract","Contract","ImageRegisterContractArtifact","toLowerCase","errorMessage","message","textTruncate","str","length","ending","substring","ImageItem","altDescription","src","alt","split","tag","idx","target","rel","href","bgImg","require","useEffect","imageItems","style","backgroundImage","backgroundSize","backgroundPosition","opacity","match","params","scope","NotFound","App","Main","exact","path","component","Images","UploadImage","ImageDetail","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","margin","display","alignSelf","IPFS","host","port","protocol","useState","file","setState","handleChange","event","prevState","id","value","handleUploadImage","preventDefault","toastr","success","scrollTo","disabled","onSubmit","htmlFor","placeholder","onChange","required","rows","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","URL","createObjectURL"],"mappings":"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","file":"static/js/main.55f5363f.chunk.js","sourcesContent":["import { keyBy } from \"lodash\";\n\nimport { ipfs } from \"../utils/ipfs\";\n\nimport {\n  GET_IMAGES,\n  GET_IMAGES_SUCCESS,\n  GET_IMAGE,\n  UPLOAD_IMAGE,\n  UPLOAD_IMAGE_SUCCESS,\n  SET_ERROR,\n} from \"./types\";\n\n// Get all images\nexport const getImages = () => async (dispatch, getState) => {\n  dispatch({ type: GET_IMAGES });\n\n  const web3State = getState().web3;\n\n  // Retrieve image state from local storage\n  const localData = localStorage.getItem(web3State.account);\n  const localImages = localData ? JSON.parse(localData) : [];\n  const imagesByIndex = keyBy(localImages, \"index\");\n\n  const images = [];\n  try {\n    const count = await web3State.contractInstance.methods\n      .getImageCount(web3State.account)\n      .call();\n\n    const imageCount = parseInt(count);\n\n    for (let index = 0; index < imageCount; index++) {\n      const imageResult = await web3State.contractInstance.methods\n        .getImage(web3State.account, index)\n        .call();\n\n      // Image for UI\n      const image = {\n        ...imagesByIndex[index],\n        index,\n        ipfsHash: imageResult[0],\n        title: imageResult[1],\n        description: imageResult[2],\n        tags: imageResult[3],\n        uploadedOn: convertTimestampToString(imageResult[4]),\n      };\n      images.push(image);\n    }\n\n    // Save image state to local storage\n    localStorage.setItem(web3State.account, JSON.stringify(images));\n\n    dispatch({ type: GET_IMAGES_SUCCESS, payload: images });\n  } catch (error) {\n    console.log(\"error\", error);\n    dispatch({ type: SET_ERROR, payload: error });\n  }\n};\n\n// upload an image\nexport const uploadImage =\n  (buffer, title, description, tags, history) => async (dispatch, getState) => {\n    dispatch({ type: UPLOAD_IMAGE });\n\n    // Add image to IPFS\n    ipfs.files.add(buffer, async (error, result) => {\n      if (error) {\n        console.log(\"ERR\", error);\n        dispatch({\n          type: SET_ERROR,\n          payload: {\n            error,\n          },\n        });\n      } else {\n        const ipfsHash = result[0].hash; // base58 encoded multihash\n        ipfs.files.get(ipfsHash, (error, files) => {\n          console.log(files);\n        });\n\n        const web3State = getState().web3;\n        const contractInstance = web3State.contractInstance;\n        try {\n          // Success, upload IPFS and metadata to the blockchain\n          const txReceipt = await contractInstance.methods\n            .uploadImage(ipfsHash, title, description, tags)\n            .send({\n              from: web3State.account,\n            });\n\n          console.log(\"uploadImage tx receipt\", txReceipt);\n\n          const {\n            blockHash,\n            blockNumber,\n            transactionHash,\n            transactionIndex,\n            cumulativeGasUsed,\n            gasUsed,\n          } = txReceipt;\n\n          // Determine index based on length of images array; otherwise,\n          // would need to call contract to get length\n          const count = await web3State.contractInstance.methods\n            .getImageCount(web3State.account)\n            .call();\n\n          const index = parseInt(count);\n          const newImage = {\n            index,\n            ipfsHash,\n            title,\n            description,\n            tags,\n            uploadedOn: \"Pending\",\n            blockHash,\n            blockNumber,\n            transactionHash,\n            transactionIndex,\n            cumulativeGasUsed,\n            gasUsed,\n          };\n\n          // Update persisted state in local storage\n          const localData = localStorage.getItem(web3State.account);\n          const localImages = localData ? JSON.parse(localData) : [];\n          localImages.push(newImage);\n          localStorage.setItem(web3State.account, JSON.stringify(localImages));\n\n          getImages()\n          dispatch({\n            type: UPLOAD_IMAGE_SUCCESS,\n            payload: newImage,\n          });\n\n          history.push(\"/\");\n        } catch (error) {\n\n          console.log(\"ERR\", error);\n          dispatch({\n            type: SET_ERROR,\n            payload: {\n              error,\n            },\n          });\n          throw error;\n        }\n      }\n    });\n  };\n\n// Get image by index\nexport const getImage = (index) => ({ type: GET_IMAGE, payload: index });\n\nconst convertTimestampToString = (timestamp) => {\n  let tempDate = Number(timestamp);\n  return tempDate !== 0 ? new Date(tempDate * 1000).toString() : null;\n};\n","export default __webpack_public_path__ + \"static/media/decentralized-network.52921464.jpg\";","import {\n  WEB3_CONNECTED,\n  WEB3_ERROR,\n  WEB3_ACCOUNT_CHANGE,\n} from '../actions/types'\n\nconst initialState = {\n  web3: null,\n  contractInstance: null,\n  account: null,\n  loading: true,\n  error: null,\n}\n\nconst web3Reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case WEB3_CONNECTED:\n      return {\n        ...state,\n        web3: action.payload.web3,\n        contractInstance: action.payload.contractInstance,\n        account: action.payload.account,\n        loading: false,\n        error: null,\n      }\n    case WEB3_ACCOUNT_CHANGE:\n      return {\n        ...state,\n        account: action.payload,\n      }\n    case WEB3_ERROR:\n      return {\n        ...state,\n        web3: null,\n        contractInstance: null,\n        account: null,\n        loading: false,\n        error: action.payload.error,\n      }\n    default:\n      return state\n  }\n}\nexport default web3Reducer;\n","import { keyBy } from \"lodash\";\n\nimport {\n  GET_IMAGES,\n  GET_IMAGES_SUCCESS,\n  GET_IMAGE,\n  SET_ERROR,\n  UPLOAD_IMAGE,\n  UPLOAD_IMAGE_SUCCESS,\n} from \"../actions/types\";\n\nconst initialState = {\n  images: null,\n  image: {},\n  loading: false,\n  error: null,\n};\n\nconst imageReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_IMAGES:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case GET_IMAGES_SUCCESS:\n      const imagesByIndex = keyBy(state.images, \"index\");\n      const updatedImages = action.payload.map((image) => {\n        const updatedImage = { ...imagesByIndex[image.index], ...image };\n        return updatedImage;\n      });\n      return {\n        ...state,\n        loading: false,\n        images: updatedImages,\n        error: null,\n        image: null,\n      };\n    case GET_IMAGE:\n      return {\n        ...state,\n        loading: false,\n        image: state.images ? state.images[action.payload] : null,\n        error: null,\n      };\n    case UPLOAD_IMAGE:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case UPLOAD_IMAGE_SUCCESS:\n      return {\n        ...state,\n        images: [...state.images, action.payload],\n        loading: false,\n        error: null,\n      };\n    case SET_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\nexport default imageReducer;\n","import { combineReducers } from 'redux'\nimport web3Reducer from './web3Reducer'\nimport imageReducer from './imageReducer'\n\nexport default combineReducers({\n  web3: web3Reducer,\n  image: imageReducer,\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst middleware = [thunk]\nconst store = createStore(\n  rootReducer,\n  {},\n  composeEnhancers(applyMiddleware(...middleware))\n)\n\nexport default store\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\n\nconst Navbar = () => {\n  return (\n    <header>\n     <div className=\"navbar navbar-dark bg-dark box-shadow\">\n        <div className=\"container d-flex justify-content-between\">\n          <Link to=\"/\" className=\"navbar-brand d-flex align-items-center\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"20\"\n              height=\"20\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"mr-2\"\n            >\n              <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\" />\n              <circle cx=\"12\" cy=\"13\" r=\"4\" />\n            </svg>\n            <strong>\n             Celo IPFS Image Upload dApp \n            </strong>\n          </Link>\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-toggle=\"collapse\"\n            data-target=\"#navbarHeader\"\n            aria-controls=\"navbarHeader\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\" />\n          </button>\n        </div>\n      </div>\n    </header>\n  )\n}\n\nexport default Navbar\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport { web3Connect } from '../../actions/web3Actions'\nimport Spinner from '../common/Spinner'\n\nclass Layout extends Component {\n  componentDidMount() {\n    this.props.web3Connect()\n  }\n\n  render() {\n    let { loading, error } = this.props.web3\n\n    let renderItems\n    if (loading) {\n      renderItems = <Spinner />\n    } else if (error) {\n      renderItems = (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          <p>Oops! An error ocurred.</p>\n          <div>{error}</div>\n        </div>\n      )\n    } else {\n      renderItems = this.props.children\n    }\n\n    return (\n      <main role=\"main\">\n        <div>{renderItems}</div>\n      </main>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  web3: state.web3,\n})\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    { web3Connect }\n  )(Layout)\n)\n","\nimport Web3 from \"web3\";\nimport { newKitFromWeb3 } from \"@celo/contractkit\";\nimport { WEB3_CONNECTED, WEB3_ERROR, } from \"./types\";\n// import { getImages } from \"./imageActions\";\nimport ImageRegisterContractArtifact from \"../contracts/abis/ImageGallery.json\";\n\nconst CeloIPFSImageGalleryAddress =\n  \"0x7B04B2542767993723C603Cbc54956e89dc4b674\";\n \nexport const web3Connect = () => async (dispatch, getState) => {\n  try {\n    if (window.celo) { \n      await window.celo.enable();\n\n      const web3 = new Web3(window.celo);\n      let kit = newKitFromWeb3(web3);\n\n      const accounts = await kit.web3.eth.getAccounts();\n      kit.defaultAccount = accounts[0];\n\n      // deployed contract\n      let contract = new kit.web3.eth.Contract(\n        ImageRegisterContractArtifact,\n        CeloIPFSImageGalleryAddress\n      );\n\n      dispatch({\n        type: WEB3_CONNECTED,\n        payload: {\n          web3,\n          contractInstance: contract,\n          account: kit.defaultAccount.toLowerCase(),\n          loading: false,\n        },\n      });\n      // start watching the contract events\n\n      // contract.once(\n      //   \"LogImageUploaded\",\n      //   {},\n      //   {\n      //     fromBlock: 6523028,\n      //     toBlock: \"latest\",\n      //   },\n      //   function (error, event) {\n      //     if (error) {\n      //       console.log(\"LogImageUploaded event ERR\", error);\n      //       dispatch({\n      //         type: WEB3_ERROR,\n      //         payload: {\n      //           loading: false,\n      //           error,\n      //         },\n      //       });\n      //     } else {\n      //       console.log(\"LogImageUploaded event\", event);\n      //       dispatch(getImages());\n      //     }\n      //   }\n      // );\n\n  \n    } \n\n\n  } catch (error) {\n    // unable to load the contract\n    const errorMessage = `Error loading 'ImageRegister' contract. Be sure Celo wallet is connected to a network and the contract is deployed. ERR: ${error.message}`;\n    console.log(errorMessage);\n    dispatch({\n      type: WEB3_ERROR,\n      payload: {\n        loading: false,\n        error: errorMessage,\n      },\n    });\n  }\n};\n\n","export const textTruncate = (str, length = 100, ending = '...') => {\n  if (str.length > length) {\n    return str.substring(0, length - ending.length) + ending\n  } else {\n    return str\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nimport './ImageItem.css'\nimport { textTruncate } from '../../utils/string'\nclass ImageItem extends Component {\n  static propTypes = {\n    image: PropTypes.object.isRequired,\n  }\n\n  render() {\n    const {\n      index,\n      ipfsHash,\n      title,\n      description,\n      tags,\n      uploadedOn,\n    } = this.props.image\n\n    const altDescription = description || 'No description'\n\n    return (\n      <div className=\"col-md-4\">\n        <div className=\"card mb-4 box-shadow\">\n          <img\n            className=\"card-img-top\"\n            src={`https://ipfs.io/ipfs/${ipfsHash}`}\n            alt=\"Card\"\n          />\n          <div className=\"card-body\">\n            <h4 className=\"card-title\">{title}</h4>\n            <p className=\"card-text\">{textTruncate(altDescription, 25)}</p>\n            <hr />\n            <div>\n              <strong>IPFS Hash</strong>\n              <p>\n                <span className=\"text-muted\">{ipfsHash}</span>\n              </p>\n            </div>\n            <hr />\n            <p className=\"card-text\">\n              {tags.split(',').map((tag, idx) => (\n                <span key={idx} className=\"badge badge-pill badge-dark mr-2\">\n                  {tag}\n                </span>\n              ))}\n            </p>\n            <hr />\n            <div>\n              <Link to={`/images/${index}`} className=\"card-link\">\n                Details\n              </Link>\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={`https://ipfs.io/ipfs/${ipfsHash}`}\n                className=\"card-link\"\n              >\n                View on IPFS\n              </a>\n            </div>\n          </div>\n          <div className=\"card-footer text-muted\">\n            <small>\n              {uploadedOn === 'Pending'\n                ? 'PENDING'\n                : `Uploaded on ${uploadedOn}`}\n            </small>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ImageItem\n","import React, {  useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport Spinner from \"../common/Spinner\";\nimport ImageItem from \"./ImageItem\";\nimport { getImages } from \"../../actions/imageActions\";\n\nconst bgImg = require(\"../../assets/images/decentralized-network.jpg\");\n\nconst Images = (props) => {\n  useEffect(() => {\n    props.getImages();\n  }, []);\n\n  let { images, loading } = props.image;\n  let imageItems;\n\n  if (images === null || loading) {\n    imageItems = <Spinner />;\n  } else {\n    if (images.length > 0) {\n      imageItems = images.map((image) => (\n        <ImageItem key={image.index} image={image} />\n      ));\n    } else {\n      imageItems = <h4>No images found</h4>;\n    }\n  }\n  return (\n    <div>\n      <section\n        className=\"jumbotron text-center\"\n        style={{\n          backgroundImage: `url(\"${bgImg}\")`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          opacity: \"1.0\",\n        }}\n      >\n        <div className=\"container\">\n          <h1 className=\"jumbotron-heading\">Images</h1>\n          <p className=\"lead text-muted\">\n            Upload images to IPFS and store the IPFS hash on the Celo\n            Blockchain.\n          </p>\n          <p>\n            <small>\n              Celo Account <mark>{props.web3.account || \"Not Connected\"}</mark>\n            </small>\n          </p>\n          <p>\n            <Link to=\"/uploadimage\" className=\"btn btn-primary my-2\">\n              Upload Image\n            </Link>\n          </p>\n        </div>\n      </section>\n      <div className=\"album py-5 bg-light\">\n        <div className=\"container\">\n          <div className=\"row\" >\n            {imageItems}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  web3: state.web3,\n  image: state.image,\n});\n\nexport default connect(mapStateToProps, { getImages })(Images);\n","import React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport \"./ImageDetail.css\";\nimport { getImage, getImages } from \"../../actions/imageActions\";\n\nconst ImageDetail = (props) => {\n  \n  useEffect(async () => {\n    await props.getImages();\n    await props.getImage(props.match.params.index);\n\n  }, [props.image]);\n\n  const image = props.image ? props.image : {};\n  // const { image } = useSelector((state) => state.image);\n\n  const {\n    ipfsHash,\n    title,\n    description,\n    uploadedOn,\n    blockHash,\n    blockNumber,\n    transactionHash,\n    transactionIndex,\n    cumulativeGasUsed,\n    gasUsed,\n  } = image;\n\n  return (\n    <div className=\"container\">\n      <div className=\"alert alert-info mt-3\" role=\"alert\">\n        Blockchain transaction information is <strong>not</strong> persisted.\n        This information <i>may</i> be lost when you refresh the browser or\n        login as another user.\n      </div>\n      <div className=\"mt-3 mb-3\">\n        <Link to=\"/\">Go Back</Link>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <div className=\"card mb-3\">\n            {ipfsHash ? (\n              <img\n                src={`https://ipfs.io/ipfs/${ipfsHash}`}\n                className=\"card-img-top\"\n                alt={`${ipfsHash}`}\n              />\n            ) : (\n              <img\n                src=\"https://api.fnkr.net/testimg/333x180/?text=IPFS\"\n                className=\"card-img-top\"\n                alt=\"NA\"\n              />\n            )}\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{title}</h5>\n              <p className=\"card-text\">{description}</p>\n              <p className=\"card-text\">\n                <small className=\"text-muted\">\n                  Uploaded on {uploadedOn ? uploadedOn : \"N/A\"}\n                </small>\n              </p>\n            </div>\n          </div>\n          <p className=\"lead\">\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={`https://ipfs.io/ipfs/${ipfsHash}`}\n              className={`btn btn-primary btn-lg ${!ipfsHash && \"disabled\"}`}\n              role=\"button\"\n            >\n              View on IPFS\n            </a>\n          </p>\n        </div>\n        <div className=\"col-md-8\">\n          <h3>IPFS Hash</h3>\n          <p>\n            {ipfsHash ? (\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={`https://ipfs.io/ipfs/${ipfsHash}`}\n                className=\"lead\"\n                role=\"button\"\n              >\n                {ipfsHash}\n              </a>\n            ) : (\n              \"N/A\"\n            )}\n          </p>\n          <hr className=\"my-4\" />\n          <h3>Blockchain Details</h3>\n\n          <div className=\"table-responsive\">\n            <table className=\"table\">\n              <tbody>\n                <tr>\n                  <th scope=\"row\">Transaction Hash</th>\n                  <td>{transactionHash ? transactionHash : \"N/A\"}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Transaction Index</th>\n                  <td>\n                    {transactionIndex || transactionIndex >= 0\n                      ? transactionIndex\n                      : \"N/A\"}\n                  </td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Block Hash</th>\n                  <td>{blockHash ? blockHash : \"N/A\"} </td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Block Number</th>\n                  <td>{blockNumber ? blockNumber : \"N/A\"}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Gas Used (wei)</th>\n                  <td>{gasUsed ? gasUsed : \"N/A\"}</td>\n                </tr>\n                <tr>\n                  <th scope=\"row\">Cumulative Gas Used (wei)</th>\n                  <td>{cumulativeGasUsed ? cumulativeGasUsed : \"N/A\"}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <hr className=\"my-4\" />\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  image: state.image.image,\n});\n\nexport default connect(mapStateToProps, { getImage, getImages })(ImageDetail);\n","import React from 'react'\nimport \"./notfound.css\"\n\nconst NotFound = () => {\n  return (\n    <div className=\"not-found\" >\n      <h1 className=\"display-4\">Page Not Found</h1>\n      <p>Sorry, this page does not exist</p>\n    </div>\n  )\n}\nexport default NotFound","import React from 'react'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport Navbar from './components/layout/Navbar'\nimport Main from './components/layout/Main'\nimport Images from './components/images/Images'\nimport UploadImage from './components/image/UploadImage'\nimport ImageDetail from './components/image/ImageDetail'\nimport NotFound from './components/notFound/NotFound'\n\n\nfunction App() {\n  return (\n    <Provider store={store}>\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <Main>\n          <Switch>\n            <Route exact path=\"/\" component={Images} />\n            <Route exact path=\"/uploadimage\" component={UploadImage} />\n            <Route exact path=\"/images/:index\" component={ImageDetail} />\n            <Route exact component={NotFound} />\n          </Switch>\n        </Main>\n      </div>\n    </Router>\n  </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"../node_modules/toastr/build/toastr.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\n\nimport spinner from \"./spinner.gif\";\n\nconst Spinner = () => {\n  return (\n    <div style={{ width: \"100%\", margin: \"auto\" }}>\n      <img\n        src={spinner}\n        alt=\"Loading...\"\n        style={{\n          width: \"200px\",\n          margin: \"auto\",\n          display: \"block\",\n          alignSelf: \"center\",\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Spinner;\n","export default \"data:image/gif;base64,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\"","export const WEB3_CONNECTED = 'WEB3_CONNECTED'\nexport const WEB3_ERROR = 'WEB3_ERROR'\nexport const WEB3_ACCOUNT_CHANGE = 'WEB3_ACCOUNT_CHANGE'\nexport const GET_IMAGES = 'GET_IMAGES'\nexport const GET_IMAGES_SUCCESS = 'GET_IMAGES_SUCCESS'\nexport const GET_IMAGE = 'GET_IMAGE'\nexport const GET_IMAGE_SUCCESS = 'GET_IMAGE_SUCCESS'\nexport const UPLOAD_IMAGE = 'UPLOAD_IMAGE'\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS'\nexport const SET_ERROR = 'SET_ERROR'\n","// using the infura.io node, otherwise IPFS requires you to run a\n// daemon on your own computer/server.\n\nimport IPFS from 'ipfs-api'\nimport bs58 from 'bs58'\n\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' })\n\n// run with local daemon\n// const ipfs = new ipfsApi(‘localhost’, ‘5001’, {protocol:‘http’});\n\n// Return bytes32 hex string from base58 encoded ipfs hash,\n// stripping leading 2 bytes from 34 byte IPFS hash\n// Assume IPFS defaults: function:0x12=sha2, size:0x20=256 bits\n// E.g. \"QmNSUYVKDSvPUnRLKmuxk9diJ6yS96r1TrAXzjTiBcCLAL\" -->\n// \"0x017dfd85d4f6cb4dcd715a88101f7b1f06cd1e009b2327a0809d01eb9c91f231\"\n\nconst getBytes32FromIpfsHash = (ipfsListing) => {\n  const decoded = bs58.decode(ipfsListing)\n  return `0x${decoded.slice(2).toString('hex')}`\n}\n\n// Return base58 encoded ipfs hash from bytes32 hex string,\n// E.g. \"0x017dfd85d4f6cb4dcd715a88101f7b1f06cd1e009b2327a0809d01eb9c91f231\"\n// --> \"QmNSUYVKDSvPUnRLKmuxk9diJ6yS96r1TrAXzjTiBcCLAL\"\n\nconst getIpfsHashFromBytes32 = (bytes32Hex) => {\n  // Add our default ipfs values for first 2 bytes:\n  // function:0x12=sha2, size:0x20=256 bits\n  // and cut off leading \"0x\"\n  const hashHex = '1220' + bytes32Hex.slice(2)\n  const hashBytes = Buffer.from(hashHex, 'hex')\n  const hashStr = bs58.encode(hashBytes)\n  return hashStr\n}\n\nexport { ipfs, getBytes32FromIpfsHash, getIpfsHashFromBytes32 }\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport toastr from \"toastr\";\n\nimport { uploadImage, getImages } from \"../../actions/imageActions\";\nimport Spinner from \"../common/Spinner\";\n\n\nconst UploadImage = (props) => {\n  const [state, setState] = useState({\n    title: \"\",\n    description: \"\",\n    tags: \"\",\n    buffer: null,\n    file: null,\n  });\n const handleChange = (event) => {\n    setState((prevState) => ({\n      ...prevState,\n      [event.target.id]: event.target.value,\n    }));\n\n    // setState({\n    //   [event.target.id]: event.target.value,\n    // });\n  };\n\n  const captureFile = (event) => {\n    const file = event.target.files[0];\n    const reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    reader.onloadend = () => {\n      setState((prevState) => ({\n        ...prevState,\n        buffer: Buffer(reader.result),\n        file: URL.createObjectURL(file),\n      }));\n\n      // setState({\n      //   buffer: Buffer(reader.result),\n      //   file: URL.createObjectURL(file),\n      // });\n    };\n  };\n\n  const handleUploadImage = async (event) => {\n    event.preventDefault();\n\n    const { title, description, tags, buffer } = state;\n    console.log(title, description, buffer);\n    try {\n      await props.uploadImage(buffer, title, description, tags, props.history);\n      toastr.success(\n        \"Image uploaded. Might take a while for Celo wallet to respond.\"\n      );\n      window.scrollTo(0, 0);\n    } catch (error) {\n      toastr.error(error);\n    }\n\n    // return to image list\n    // props.history.push(\"/\");\n  };\n\n  return (\n    <div className=\"container\">\n      <fieldset disabled={props.loading}>\n        <div className=\"row\">\n          <div className=\"col-md-8 m-auto\">\n            <h1 className=\"display-4 text-center mt-4\">Upload an image</h1>\n            {props.loading ? (\n              <Spinner />\n            ) : (\n              <p className=\"lead text-center\">\n                Let's get some information before uploading your image to IPFS\n                and the Blockchain\n              </p>\n            )}\n            <form className=\"needs-validation\" onSubmit={handleUploadImage}>\n              <div className=\"form-group\">\n                <label htmlFor=\"title\">Title *</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"Title\"\n                  value={state.title}\n                  onChange={handleChange}\n                  required\n                />\n                <div className=\"invalid-feedback\">Title is required.</div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <textarea\n                  className=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"Description\"\n                  rows=\"3\"\n                  value={state.description}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"tags\">Tags *</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"tags\"\n                  placeholder=\"Tags\"\n                  value={state.tags}\n                  onChange={handleChange}\n                  required\n                />\n                <small id=\"tagsHelpBlock\" className=\"form-text text-muted\">\n                  Comma-delimited e.g Baseball, Softball, Soccer.\n                </small>\n                <div className=\"invalid-feedback\">Tags are required.</div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"file\">Image *</label>\n                <input\n                  type=\"file\"\n                  className=\"form-control-file\"\n                  id=\"file\"\n                  onChange={captureFile}\n                  required\n                />\n                <div className=\"invalid-feedback\">Image required.</div>\n              </div>\n              <small className=\"d-block pb-3\">* = required fields</small>\n              <small className=\"d-block pb-3\">\n                Uploading the same file multiple times will result in the same\n                file with the same hash being uploaded.\n              </small>\n              <div className=\"mb-3\">\n                <Link to=\"/\" className=\"btn btn-secondary mr-2\">\n                  Cancel\n                </Link>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Upload\n                </button>\n              </div>\n            </form>\n            {state.file && (\n              <div className=\"text-center mt-3 mb-3\">\n                <img src={state.file} className=\"img-thumbnail\" alt=\"Preview\" />\n              </div>\n            )}\n          </div>\n        </div>\n      </fieldset>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  loading: state.image.loading,\n});\n\nexport default connect(mapStateToProps, { uploadImage, getImages })(\n  UploadImage\n);\n"],"sourceRoot":""}